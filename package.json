{
  "name": "trenches",
  "version": "0.1.0",
  "private": true,
  "packageManager": "pnpm@9.6.0",
  "engines": {
    "node": ">=20"
  },
  "workspaces": [
    "packages/*",
    "services/*",
    "apps/*",
    "tools/*",
    "training/*"
  ],
  "scripts": {
    "clean": "rimraf \"**/dist\" \"**/*.tsbuildinfo\"",
    "typecheck": "tsc -b --pretty false",
    "build": "tsc -b",
    "lint": "eslint . --ext .ts",
    "test": "vitest run",
    "test:watch": "vitest",
    "dev": "pnpm -r --parallel run dev",
    "smoke": "tsx tools/smoke/sse-smoke.ts",
    "smoke:exec": "tsx tools/smoke/execution-smoke.ts",
    "smoke:survival": "tsx tools/smoke/survival-smoke.ts",
    "smoke:sizing": "tsx tools/smoke/sizing-smoke.ts",
    "backtest": "tsx tools/backtest/src/cli.ts",
    "ope": "tsx tools/ope/src/ope.ts",
    "smoke:backtest": "pnpm backtest --from 2025-01-01 --to 2025-01-02",
    "smoke:ope": "pnpm ope --from 2025-01-01 --to 2025-01-02 --policy fee",
    "smoke:backtest:polish": "tsx tools/smoke/backtest-smoke.ts",
    "smoke:ope:both": "tsx tools/smoke/ope-smoke.ts",
    "smoke:creds": "tsx tools/smoke/creds-smoke.ts",
    "smoke:alpha": "tsx tools/smoke/alpha-smoke.ts",
    "smoke:fillnet": "tsx tools/smoke/fillnet-smoke.ts",
    "smoke:pnl": "tsx tools/smoke/pnl-smoke.ts",
    "smoke:migration-preset": "tsx tools/smoke/migration-preset-smoke.ts",
    "smoke:price-updater": "tsx tools/smoke/price-updater-smoke.ts",
    "train:fillnet": "tsx training/fillnet/train.ts",
    "train:alpha": "tsx training/alpha_ranker/train.ts",
    "train:rugguard": "tsx training/rugguard/train.ts",
    "smoke:route-quarantine": "tsx tools/smoke/route-quarantine-smoke.ts",
    "soak:summary": "tsx tools/soak/soak-summary.ts --db ${PERSISTENCE_SQLITE_PATH:-./data/trenches.db}",
    "lint:sse": "node -e \"const {execSync}=require('child_process'); try{const out=execSync('rg -n \\\"new EventSource\\(\\\"', {stdio:['ignore','pipe','ignore']}).toString(); if(out.trim()){ console.log('SSE audit warning: direct new EventSource found. Use createSSEClient.\\n'+out);} }catch(e){}\"",
    "smoke:leader-wallets": "tsx tools/smoke/leader-wallets-smoke.ts"
  },
  "devDependencies": {
    "@types/eventsource": "^1.1.11",
    "@types/node": "^20.12.7",
    "@types/ws": "^8.5.10",
    "@typescript-eslint/eslint-plugin": "^7.0.0",
    "@typescript-eslint/parser": "^7.0.0",
    "@vitest/coverage-v8": "^1.6.0",
    "eslint": "^8.57.0",
    "eslint-config-prettier": "^9.1.0",
    "eslint-plugin-import": "^2.29.1",
    "prettier": "^3.2.5",
    "rimraf": "^5.0.5",
    "ts-node": "^10.9.2",
    "tslib": "^2.6.2",
    "tsx": "^4.7.0",
    "typescript": "^5.4.5",
    "vitest": "^1.6.0"
  }
}
